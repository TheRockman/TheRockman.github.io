var app = angular.module("myApp", []); app.controller("mainCtrl", function($scope, $document) {
  $scope.map = [
    "ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","ðŸš¹","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","ðŸ”³",
    "ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³","ðŸ”³"
  ];
  for (var i = 0; i < $scope.map.length; i++) {
    $scope.map[i] = {
      icon: $scope.map[i],
      id: i
    }
  }
  $scope.containsSymbol = function (square, symbol) {
    if (square.indexOf(symbol) == -1) {
      return false;
    } else {
      return true;
    }
  }
  
  $scope.moveRight = function (square) {
    if ($scope.containsSymbol(square.icon, 'ðŸš¹')) {
      if ($scope.containsSymbol($scope.map[square.id + 1].icon, 'ðŸ”³')) {
        return;
      } else{
        $scope.map[square.id + 1].icon = 'ðŸš¹';
        square.icon = "";
      }
    }
  }
  $scope.moveleft = function (square) {
    if ($scope.containsSymbol(square.icon, 'ðŸš¹')) {
      if ($scope.containsSymbol($scope.map[square.id - 1].icon, 'ðŸ”³')) {
        return;
      } else{
        $scope.map[square.id - 1].icon = 'ðŸš¹';
        square.icon = "";
      }
    }
  }
  
  // $document.bind('keyup', function (e) {
  //   var square = null;
  //   for (var i = 0; i < $scope.map.length; i++) {
  //     if ($scope.containsSymbol($scope.map[i].icon, 'ðŸš¹')) {
  //       square = $scope.map[i];
  //     }
  //   }
  //   // 39 right
  //   // 40 down
  //   // 37 left
  //   // 38 up
  //
  //   if (e.keyCode === 39) {
  //     console.log('right');
  //     $scope.moveRight(square);
  //   }
  // });
  
});
